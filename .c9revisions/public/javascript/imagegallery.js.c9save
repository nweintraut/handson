{"ts":1372975319000,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"/*global Backbone, jQuery, _ */\n\nvar ImageGallery = ImageGallery || {};\n\nImageGallery.Image = Backbone.Model.extend({\n    \n});\n\nImageGallery.vent = _.extend({}, Backbone.Events);\nImageGallery.ImageCollection= Backbone.Collection.extend({\n    model: ImageGallery.Image\n});\n\nImageGallery.AddImageView = Backbone.View.extend ({\n    id: \"add-image-form\",\n    template: \"#add-image-template\",\n    \n    events: {\n        \"change #name\": \"nameChanged\",\n        \"change #description\": \"descriptionChanged\",\n        \"change #url\": \"urlChanged\",\n        \"click #save\": \"saveImage\"\n    },\n    nameChanged: function(e){\n        var value = $(e.currentTarget).val();\n        this.model.set({name: value});\n    },\n    descriptionChanged: function(e){\n        var value = $(e.currentTarget).val();\n        this.model.set({description: value});\n    },\n    urlChanged: function(e) {\n        var value = $(e.currentTarget).val();\n        this.model.set({url: value});\n        this.$(\"#preview\").attr(\"src\", value);\n    },\n    saveImage: function(e){\n        e.preventDefault();\n //       var name = this.model.get(\"name\");\n //       var desc = this.model.get(\"description\");\n //       var url  = this.model.get(\"url\");\n        this.collection.add(this.model);           \n    },\n    render: function(){\n        var html = $(this.template).tmpl();\n        $(this.el).html(html);\n    }\n});\n\nImageGallery.ImageListView = Backbone.View.extend({\n    tagName: \"ul\",\n//    template: \"#image-preview-template\",\n    template: '<li><a href=\"#\" data-id=\"${id}\"><img src=\"${url}\" width=\"150\" height=\"100\" alt=\"${description}\"><span class=\"image-label\">${name}</span></a></li>',\n/*\n    events: {\n        \"click a\": \"imageClicked\"\n    },\n    imageClicked: function(e) {\n        e.preventDefault();\n        var id= $(e.currentTarget).data(\"id\");\n        var image = this.collection.get(id);\n        // tell the app the image was clicked\n        ImageGallery.vent.trigger(\"image:selected\", image);\n        \n    },\n    \n*/\n    initialize: function(){\n        _.bindAll(this, \"renderImage\");\n//        this.template = $(this.template);\n        this.collection.bind(\"add\", this.renderImage, this);\n    },\n    \n    renderImage: function(image){\n        var imagePreview = new ImageGallery.ImagePreview({model: image});\n        imagePreview.render();\n        $(this.el).prepend(imagePreview.el);\n        /*\n        var html = this.template.tmpl(image.toJSON());\n        // prepend so that newest image is put at top\n        $(this.el).prepend(html);\n        */\n    },\n    render: function() {\n        this.collection.each(this.renderImage);\n    }\n});\nImageGallery.ImageView = Backbone.View.extend({\n    \n    template: \"#image-view-template\",\n    className: \"image-view\",\n    \n    render: function(){\n        var html = $(this.template).tmpl(this.model.toJSON());\n        $(this.el).html(html);\n    }\n    \n});\n\nImageGallery.Router = Backbone.Router.extend({\n    routes: {\n        \"\": \"newImage\",\n        \"images/new\": \"newImage\",\n        \"images/:id\": \"showImage\"\n    },\n    initialize: function(options) {\n        this.collection = options.collection;\n    },\n    showImage: function(id) {\n        var image = this.collection.get(id);\n        ImageGallery.showImage(image);\n    },\n    newImage: function(){\n        ImageGallery.addImage(this.collection);\n    }\n});\n\nImageGallery.ImagePreview = Backbone.View.extend({\n//    template: \"#image-preview-template\",\n    template: '<li><a href=\"#\" data-id=\"${id}\"><img src=\"${url}\" width=\"150\" height=\"100\" alt=\"${description}\"><span class=\"image-label\">${name}</span></a></li>',\n    \n    events: {\n        \"click a\": \"imageClicked\"\n    }, \n    imageClicked: function(e) {\n        e.preventDefault();\n        ImageGallery.vent.trigger(\"image:selected\", this.model);    \n    },\n    initialize: function() {\n        this.template = $(this.template);\n    },\n    render: function(){\n        var html = this.template.tmpl(this.model.toJSON());\n        $(this.el).html(html);  \n    }\n});\n\n\nImageGallery.addImage = function(images) {\n    var image = new ImageGallery.Image();\n    var addImageView = new ImageGallery.AddImageView({model: image, collection: images});\n    addImageView.render();\n    $(\"#main\").html(addImageView.el);\n};\n\nImageGallery.showImage = function(image) {\n    var imageView = new ImageGallery.ImageView({\n        model:image\n    });\n    imageView.render();\n    $(\"#main\").html(imageView.el);\n};\n\n$(function() {\n    \n    var imageData = [\n        {\n            id: 1,\n            url: \"/images/island.jpeg\",\n            name: \"Some island\",\n        },\n        {\n            id: 2,\n            url: \"/images/mountain.jpeg\",\n            name: \"A mountain\",\n            description: \"A mountin with a grassy hill and tree in front of it.\"\n        },\n        {\n            id: 3,\n            url: \"/images/tools.jpeg\",\n            name: \"A rusty wrench\",\n            description: \"A close up view of a rusty wrench with great color and texture.\"\n        }, \n        {\n            id: 4,\n            url: \"images/tree.jpeg\",\n            name: \"A purple flower\",\n            description: \"A purple flower with a water drop hanging off another plant.\"\n        }\n    ];\n    \n    var images = new ImageGallery.ImageCollection(imageData);    \n    // var image = new ImageGallery.Image();\n\n    ImageGallery.addImage(images);\n\n    images.bind(\"add\", function(){ImageGallery.addImage(images)}); // important bind technique\n    \n    ImageGallery.vent.bind(\"image:selected\", function(image) {\n        ImageGallery.showImage(image);\n        router.navigate(\"images/\" + image.id);\n    });\n    \n    var imageListView = new ImageGallery.ImageListView({collection:images}); \n    imageListView.render();\n    $(\"#image-list\").html(imageListView.el);\n    var router = new ImageGallery.Router({collection:images});\n    Backbone.history.start();\n\n});"]],"start1":0,"start2":0,"length1":0,"length2":5841}]],"length":5841}
{"contributors":[],"silentsave":false,"ts":1372975494824,"patch":[[{"diffs":[[0,"eventDefault();\n"],[1,"        this.model.select();\n//"],[0,"        ImageGal"]],"start1":3687,"start2":3687,"length1":32,"length2":63}]],"length":5872,"saved":false}
{"ts":1372975602271,"patch":[[{"diffs":[[0,"xtend({\n    "],[1,"select: function() {\n        this.set({selected: true});\n    }"],[0,"\n});\n\nImageG"]],"start1":110,"start2":110,"length1":24,"length2":86}]],"length":5934,"saved":false}
{"ts":1372975636801,"patch":[[{"diffs":[[0,"ed: true});\n"],[1,"        ImageGallery.vent.trigger(\"image:selected\", this);\n"],[0,"    }\n});\n\nI"]],"start1":167,"start2":167,"length1":24,"length2":83}]],"length":5993,"saved":false}
{"ts":1372975699887,"patch":[[{"diffs":[[0,".template);\n"],[1,"        this.model.bind(\"change:selected\", imageSelected, this);\n"],[0,"    },\n    r"]],"start1":3990,"start2":3990,"length1":24,"length2":89}]],"length":6058,"saved":false}
{"ts":1372975723508,"patch":[[{"diffs":[[0,":selected\", "],[1,"\""],[0,"imageSelecte"]],"start1":4033,"start2":4033,"length1":24,"length2":25},{"diffs":[[0,"Selected"],[1,"\""],[0,", this);"]],"start1":4051,"start2":4051,"length1":16,"length2":17},{"diffs":[[0,", this);\n    },\n"],[1,"    imageSelected: function(){\n        \n    },\n"],[0,"    render: func"]],"start1":4060,"start2":4060,"length1":32,"length2":79}]],"length":6107,"saved":false}
{"ts":1372975785445,"patch":[[{"diffs":[[0,"ected\", "],[-1,"\""],[1,"this."],[0,"imageSel"]],"start1":4037,"start2":4037,"length1":17,"length2":21},{"diffs":[[0,"mageSelected"],[-1,"\""],[0,", this);\n   "]],"start1":4051,"start2":4051,"length1":25,"length2":24},{"diffs":[[0,"tion(){\n        "],[1,"this.$(\"img\").toggleCLass(\"selected\");"],[0,"\n    },\n    rend"]],"start1":4102,"start2":4102,"length1":32,"length2":70}]],"length":6148,"saved":false}
{"ts":1372975835614,"patch":[[{"diffs":[[0,".toggleC"],[-1,"L"],[1,"l"],[0,"ass(\"sel"]],"start1":4131,"start2":4131,"length1":17,"length2":17}]],"length":6148,"saved":false}
{"ts":1372975925464,"patch":[[{"diffs":[[0,"ed: true});\n"],[1,"        this.collection.select(this);\n"],[0,"        Imag"]],"start1":167,"start2":167,"length1":24,"length2":62}]],"length":6186,"saved":false}
{"ts":1372975954439,"patch":[[{"diffs":[[0,"y.Image\n"],[1,"    select: function(model) {\n        this.set({selected: model});\n    }\n"],[0,"});\n\nIma"]],"start1":419,"start2":419,"length1":16,"length2":89}]],"length":6259,"saved":false}
{"ts":1372975970896,"patch":[[{"diffs":[[0,"allery.Image"],[1,","],[0,"\n    select:"]],"start1":414,"start2":414,"length1":24,"length2":25}]],"length":6260,"saved":false}
{"ts":1372976023916,"patch":[[{"diffs":[[0,"unction("],[-1,"model"],[1,"image"],[0,") {\n    "]],"start1":441,"start2":441,"length1":21,"length2":21},{"diffs":[[0,"his."],[-1,"set({"],[0,"selected"],[-1,": model})"],[1," =image"],[0,";\n  "]],"start1":467,"start2":467,"length1":30,"length2":23}]],"length":6253,"saved":false}
{"ts":1372976030095,"patch":[[{"diffs":[[0,"selected"],[1,"Image"],[0," ="],[1," "],[0,"image;\n "]],"start1":471,"start2":471,"length1":18,"length2":24}]],"length":6259,"saved":false}
{"ts":1372976091577,"patch":[[{"diffs":[[0,"ed\", this);\n"],[1,"    },\n    deselect: function() {\n        this.set({selected: false});\n"],[0,"    }\n});\n\nI"]],"start1":264,"start2":264,"length1":24,"length2":95},{"diffs":[[0,"nction(image) {\n"],[1,"        if (this.selectedImage) {\n            this.selectedImage.deselect();\n        }\n"],[0,"        this.sel"]],"start1":513,"start2":513,"length1":32,"length2":119}]],"length":6417,"saved":false}
{"ts":1372976130716,"patch":[[{"diffs":[[0,"his."],[1,"un"],[0,"set("],[-1,"{"],[1,"\""],[0,"selected"],[-1,": false}"],[1,"\""],[0,");\n "]],"start1":319,"start2":319,"length1":29,"length2":24}]],"length":6412,"saved":false}
{"ts":1372976244990,"patch":[[{"diffs":[[0,"t: function() {\n"],[1,"        if(this.get(\"selected\")) return;\n"],[0,"        this.set"]],"start1":127,"start2":127,"length1":32,"length2":73}]],"length":6453,"saved":false}
{"ts":1372976310145,"patch":[[{"diffs":[[0,"ection.get(id);\n"],[1,"        image.select();\n"],[0,"        ImageGal"]],"start1":3604,"start2":3604,"length1":32,"length2":56}]],"length":6477,"saved":false}
{"ts":1372976446086,"patch":[[{"diffs":[[0,"n(images) {\n"],[1,"    images.deselect();\n"],[0,"    var imag"]],"start1":4653,"start2":4653,"length1":24,"length2":47}]],"length":6500,"saved":false}
{"ts":1372976506140,"patch":[[{"diffs":[[0,"unction(image) {"],[1,"\n\n        this.selectedImage = image;\n    },\n    deselect: function() {"],[0,"\n        if (thi"]],"start1":548,"start2":548,"length1":32,"length2":103},{"diffs":[[0,"   }"],[-1,"\n"],[0,"        "],[-1,"this.selectedImage = image;"],[0,"\n   "]],"start1":718,"start2":718,"length1":44,"length2":16}]],"length":6543,"saved":false}
{"ts":1372976524136,"patch":[[{"diffs":[[0,"mage) {\n"],[1,"        this.deselect();"],[0,"\n       "]],"start1":557,"start2":557,"length1":16,"length2":40}]],"length":6567,"saved":false}
{"ts":1372976624122,"patch":[[{"diffs":[[0,"age.deselect();\n"],[1,"            delete this.selectedImage;\n"],[0,"        }       "]],"start1":721,"start2":721,"length1":32,"length2":71}]],"length":6606,"saved":false}
{"contributors":[],"silentsave":false,"ts":1372976790038,"patch":[[{"diffs":[[0,"-view\",\n    "],[1,"events: {\n        \"click .nav-previous a\": \"previousImage\",\n        \"click .nav-next a\": \"nextImage\"\n    },\n    prevoiusImage: function() {\n        \n    },\n    nextImage: function () {\n        \n    },"],[0,"\n    render:"]],"start1":3255,"start2":3255,"length1":24,"length2":224}]],"length":6806,"saved":false}
{"ts":1372976819506,"patch":[[{"diffs":[[0,"Image: function("],[1,"e"],[0,") {\n        \n   "]],"start1":3387,"start2":3387,"length1":32,"length2":33},{"diffs":[[0,"on(e) {\n        "],[1,"e.prevent.default();"],[0,"\n    },\n    next"]],"start1":3400,"start2":3400,"length1":32,"length2":52},{"diffs":[[0,"nction ("],[1,"e"],[0,") {\n    "]],"start1":3461,"start2":3461,"length1":16,"length2":17},{"diffs":[[0,"n (e) {\n        "],[1,"e.preventDefault();"],[0,"\n    },\n    rend"]],"start1":3466,"start2":3466,"length1":32,"length2":51}]],"length":6847,"saved":false}
{"ts":1372976853733,"patch":[[{"diffs":[[0,"vent.default();\n"],[1,"        ImageGallery.vent.trigger(\"image:previous\");\n"],[0,"    },\n    nextI"]],"start1":3421,"start2":3421,"length1":32,"length2":85},{"diffs":[[0,"tDefault();\n"],[1,"        ImageGallery.vent.trigger(\"image:next\");\n"],[0,"    },\n    r"]],"start1":3543,"start2":3543,"length1":24,"length2":73}]],"length":6949,"saved":false}
{"ts":1372977075196,"patch":[[{"diffs":[[0,".Image,\n"],[1,"    initialize: function() {\n        ImageGallery.vent.bind(\"image:previous\", this.previousImage, this );\n        ImageGallery.vent.bind(\"image:next\", this.nextImage, this);\n    },\n    previousImage: function(e) {\n        var index = this.indexOf(this.selectedImage);\n        index -= 1;\n        var image = this.at(index);\n    },\n    nextImage: function(e) {\n        var index = this.indexOf(this.selectedImage);\n        index += 1;\n        var image = this.at(index);\n        image.select();\n    },\n"],[0,"    sele"]],"start1":527,"start2":527,"length1":16,"length2":517}]],"length":7450,"saved":false}
{"ts":1372977086045,"patch":[[{"diffs":[[0,".at(index);\n"],[1,"        image.select();\n"],[0,"    },\n    n"]],"start1":847,"start2":847,"length1":24,"length2":48}]],"length":7474,"saved":false}
{"ts":1372977355688,"patch":[[{"diffs":[[0,"Image: function("],[-1,"e"],[0,") {\n        var "]],"start1":728,"start2":728,"length1":33,"length2":32},{"diffs":[[0,"Image: function("],[-1,"e"],[0,") {\n        var "]],"start1":897,"start2":897,"length1":33,"length2":32}]],"length":7472,"saved":false}
{"ts":1372977475881,"patch":[[{"diffs":[[0,"prev"],[-1,"o"],[0,"i"],[1,"o"],[0,"usIm"]],"start1":3902,"start2":3902,"length1":10,"length2":10}]],"length":7472,"saved":false}
{"ts":1372977513442,"patch":[[{"diffs":[[0,"ction (e) {\n"],[1,"        console.log(\"Made it to nextImage\");\n"],[0,"        e.pr"]],"start1":4038,"start2":4038,"length1":24,"length2":69}]],"length":7517,"saved":false}
{"ts":1372977540327,"patch":[[{"diffs":[[0,"eventDefault();\n"],[1,"//"],[0,"        ImageGal"]],"start1":4107,"start2":4107,"length1":32,"length2":34}]],"length":7519,"saved":false}
{"ts":1372978461178,"patch":[[{"diffs":[[0,"e: function() {\n"],[1,"        console.log(\"In image collection previousImage\");\n"],[0,"        var inde"]],"start1":732,"start2":732,"length1":32,"length2":90},{"diffs":[[0,"e: function() {\n"],[1,"        console.log(\"In image collection nextImage\");\n"],[0,"        var inde"]],"start1":959,"start2":959,"length1":32,"length2":86}]],"length":7631,"saved":false}
{"ts":1372978911298,"patch":[[{"diffs":[[0,".prevent"],[-1,".d"],[1,"D"],[0,"efault()"]],"start1":4052,"start2":4052,"length1":18,"length2":17},{"diffs":[[0,"tDefault();\n"],[-1,"//"],[0,"        Imag"]],"start1":4222,"start2":4222,"length1":26,"length2":24}]],"length":7628,"saved":false}
{"ts":1372978946787,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log(\"In image collection nextImage\");\n"],[0,"    "]],"start1":971,"start2":971,"length1":62,"length2":8},{"diffs":[[0,") {\n"],[-1,"        console.log(\"Made it to nextImage\");\n"],[0,"    "]],"start1":4103,"start2":4103,"length1":53,"length2":8}]],"length":7529,"saved":false}
{"ts":1372979062496,"patch":[[{"diffs":[[0,"   i"],[-1,"ndex -= 1;"],[1,"f (index > 0) {\n            index -= 1;\n        }"],[0,"\n   "]],"start1":865,"start2":865,"length1":18,"length2":57}]],"length":7568,"saved":false}
{"ts":1372979129434,"patch":[[{"diffs":[[0,"   i"],[-1,"ndex += 1;"],[1,"f (index > this.length) {\n            index += 1;\n        } else { \n            index = 0;\n        }"],[0,"\n   "]],"start1":1073,"start2":1073,"length1":18,"length2":108}]],"length":7658,"saved":false}
{"ts":1372979222288,"patch":[[{"diffs":[[0," (index "],[-1,">"],[1,"<"],[0," this.le"]],"start1":1078,"start2":1078,"length1":17,"length2":17}]],"length":7658,"saved":false}
{"ts":1372979291686,"patch":[[{"diffs":[[0,"index -= 1;\n"],[1,"        } else {\n            index = this.length - 1;\n"],[0,"        }\n  "]],"start1":897,"start2":897,"length1":24,"length2":78}]],"length":7712,"saved":false}
{"ts":1372979326997,"patch":[[{"diffs":[[0,"s.length"],[1," -1"],[0,") {\n    "]],"start1":1145,"start2":1145,"length1":16,"length2":19}]],"length":7715,"saved":false}
{"ts":1372979631528,"patch":[[{"diffs":[[0,"e: function() {\n"],[1,"        alert(\"ImagePreview\");\n"],[0,"        this.tem"]],"start1":5488,"start2":5488,"length1":32,"length2":63}]],"length":7746,"saved":false}
{"ts":1372979704429,"patch":[[{"diffs":[[0,"l: image});\n"],[1,"        alert(\"renderImage\");\n"],[0,"        imag"]],"start1":3567,"start2":3567,"length1":24,"length2":54},{"diffs":[[0,") {\n"],[-1,"        alert(\"ImagePreview\");\n"],[0,"    "]],"start1":5530,"start2":5530,"length1":39,"length2":8}]],"length":7745,"saved":false}
{"ts":1372979776874,"patch":[[{"diffs":[[0,"});\n"],[-1,"        alert(\"renderImage\");\n"],[0,"    "]],"start1":3575,"start2":3575,"length1":38,"length2":8}]],"length":7715,"saved":false}
{"ts":1372979793675,"patch":[[{"diffs":[[0,"xtImage, this);\n"],[1,"        alert(\"Collection\");\n"],[0,"    },\n    previ"]],"start1":693,"start2":693,"length1":32,"length2":61}]],"length":7744,"saved":false}
{"ts":1372979813411,"patch":[[{"diffs":[[0,"s);\n"],[-1,"        alert(\"Collection\");\n"],[0,"    "]],"start1":705,"start2":705,"length1":37,"length2":8}]],"length":7715,"saved":false}
{"ts":1372979827771,"patch":[[{"diffs":[[0,"mage();\n"],[1,"alert(\"245\");"],[0,"\n    Ima"]],"start1":7160,"start2":7160,"length1":16,"length2":29}]],"length":7728,"saved":false}
{"ts":1372979841156,"patch":[[{"diffs":[[0,"();\n"],[-1,"alert(\"245\");"],[0,"\n   "]],"start1":7164,"start2":7164,"length1":21,"length2":8}]],"length":7715,"saved":false}
{"ts":1372979848356,"patch":[[{"diffs":[[0,"d);\n    });\n"],[1,"alert(\"245\");"],[0,"    \n    var"]],"start1":7450,"start2":7450,"length1":24,"length2":37}]],"length":7728,"saved":false}
{"ts":1372979853229,"patch":[[{"diffs":[[0,"t(\"2"],[-1,"4"],[0,"5"],[1,"4"],[0,"\"); "]],"start1":7466,"start2":7466,"length1":10,"length2":10}]],"length":7728,"saved":false}
{"ts":1372979865402,"patch":[[{"diffs":[[0,"});\n"],[-1,"alert(\"254\");  "],[0,"  \n "]],"start1":7458,"start2":7458,"length1":23,"length2":8}]],"length":7713,"saved":false}
{"ts":1372979872361,"patch":[[{"diffs":[[0,"stView.el);\n"],[1,"alert(\"254\");      \n"],[0,"    var rout"]],"start1":7604,"start2":7604,"length1":24,"length2":44}]],"length":7733,"saved":false}
{"ts":1372979898991,"patch":[[{"diffs":[[0,"tView.render();\n"],[1,"    alert(\"257\");\n"],[0,"    $(\"#image-li"]],"start1":7555,"start2":7555,"length1":32,"length2":50},{"diffs":[[0,"lert(\"25"],[-1,"4"],[1,"8"],[0,"\");     "]],"start1":7635,"start2":7635,"length1":17,"length2":17}]],"length":7751,"saved":false}
{"ts":1372979933224,"patch":[[{"diffs":[[0,"mages});"],[1,"\n    alert(\"256\");   "],[0," \n    im"]],"start1":7533,"start2":7533,"length1":16,"length2":37},{"diffs":[[0,"();\n"],[-1,"    alert(\"257\");"],[0,"\n   "]],"start1":7588,"start2":7588,"length1":25,"length2":8}]],"length":7755,"saved":false}
{"ts":1372979970585,"patch":[[{"diffs":[[0,"w.render();\n"],[1,"alert(\"258\");"],[0,"\n    $(\"#ima"]],"start1":7580,"start2":7580,"length1":24,"length2":37},{"diffs":[[0,"ew.el);\n"],[-1,"alert(\"258\");"],[0,"      \n "]],"start1":7643,"start2":7643,"length1":29,"length2":16}]],"length":7755,"saved":false}
{"ts":1372980078597,"patch":[[{"diffs":[[0,"r: function() {\n"],[1,"        alert(\"128\");\n"],[0,"        this.col"]],"start1":3836,"start2":3836,"length1":32,"length2":54}]],"length":7777,"saved":false}
{"ts":1372980124685,"patch":[[{"diffs":[[0,"ert(\"128\");\n"],[1,"        this.collection.each(console.log(\"each\"));\n//"],[0,"        this"]],"start1":3862,"start2":3862,"length1":24,"length2":77}]],"length":7830,"saved":false}
{"ts":1372980219581,"patch":[[{"diffs":[[0,"ion(image){\n"],[1,"        alert(\"renderImage\");\n"],[0,"        var "]],"start1":3493,"start2":3493,"length1":24,"length2":54}]],"length":7860,"saved":false}
{"ts":1372980224225,"patch":[[{"diffs":[[0,"ert(\"128\");\n"],[1,"//"],[0,"        this"]],"start1":3892,"start2":3892,"length1":24,"length2":26},{"diffs":[[0,"ach\"));\n"],[-1,"//"],[0,"        "]],"start1":3949,"start2":3949,"length1":18,"length2":16}]],"length":7860,"saved":false}
{"ts":1372980377753,"patch":[[{"diffs":[[0,"image){\n"],[1,"\n"],[0,"        "],[-1,"alert"],[1,"console.log"],[0,"(\"render"]],"start1":3497,"start2":3497,"length1":29,"length2":36},{"diffs":[[0,"enderImage\")"],[-1,";"],[1,"\n        alert(\"118\");        "],[0,"\n        var"]],"start1":3528,"start2":3528,"length1":25,"length2":54},{"diffs":[[0,"l: image});\n"],[1,"        alert(\"118\");        \n"],[0,"        imag"]],"start1":3633,"start2":3633,"length1":24,"length2":54}]],"length":7926,"saved":false}
{"ts":1372980431439,"patch":[[{"diffs":[[0,"        alert(\"1"],[-1,"18"],[1,"22"],[0,"\");        \n    "]],"start1":3645,"start2":3645,"length1":34,"length2":34}]],"length":7926,"saved":false}
{"ts":1372980521403,"patch":[[{"diffs":[[0,"elected, this);\n"],[1,"        alert(\"Image Preview\");\n"],[0,"    },\n    image"]],"start1":5771,"start2":5771,"length1":32,"length2":64}]],"length":7958,"saved":false}
{"ts":1372980563304,"patch":[[{"diffs":[[0,"});\n"],[-1,"    alert(\"256\");    \n"],[0,"    "]],"start1":7741,"start2":7741,"length1":30,"length2":8},{"diffs":[[0,"();\n"],[-1,"alert(\"258\");\n"],[0,"    "]],"start1":7769,"start2":7769,"length1":22,"length2":8}]],"length":7922,"saved":false}
{"ts":1372980604953,"patch":[[{"diffs":[[0,") {\n"],[-1,"        alert(\"128\");\n//        this.collection.each(console.log(\"each\"));\n"],[0,"    "]],"start1":3944,"start2":3944,"length1":83,"length2":8}]],"length":7847,"saved":false}
{"ts":1372980756425,"patch":[[{"diffs":[[0,"e: function() {\n"],[1,"                alert(\"Image Preview initialize start\");\n"],[0,"        this.tem"]],"start1":5584,"start2":5584,"length1":32,"length2":89},{"diffs":[[0," Preview"],[1," initialize end"],[0,"\");\n    "]],"start1":5789,"start2":5789,"length1":16,"length2":31}]],"length":7919,"saved":false}
{"ts":1372980786909,"patch":[[{"diffs":[[0,"ze start"],[-1,"\""],[1," \" + this.model.id"],[0,");\n     "]],"start1":5645,"start2":5645,"length1":17,"length2":34},{"diffs":[[0,"lize end"],[-1,"\""],[1," \" + this.model.id"],[0,");\n    }"]],"start1":5821,"start2":5821,"length1":17,"length2":34}]],"length":7953,"saved":false}
{"ts":1372980823498,"patch":[[{"diffs":[[0,"image){\n"],[-1,"\n"],[0,"        "]],"start1":3497,"start2":3497,"length1":17,"length2":16},{"diffs":[[0,"(\"11"],[-1,"8"],[1,"9"],[0,"\"); "]],"start1":3553,"start2":3553,"length1":9,"length2":9}]],"length":7952,"saved":false}
{"ts":1372980911523,"patch":[[{"diffs":[[0,"ze: function() {"],[1,"\n\n        this.template = $(this.template);"],[0,"\n               "]],"start1":5582,"start2":5582,"length1":32,"length2":75},{"diffs":[[0,"id);"],[-1,"\n"],[0,"        "],[-1,"this.template = $(this.template);"],[0,"\n   "]],"start1":5711,"start2":5711,"length1":50,"length2":16}]],"length":7961,"saved":false}
{"ts":1372980916880,"patch":[[{"diffs":[[0,"ion() {\n"],[-1,"\n"],[0,"        "]],"start1":5591,"start2":5591,"length1":17,"length2":16}]],"length":7960,"saved":false}
{"ts":1372981104814,"patch":[[{"diffs":[[0,") {\n"],[-1,"        this.template = $(this.template);\n        "],[0,"    "]],"start1":5595,"start2":5595,"length1":58,"length2":8},{"diffs":[[0,"el.id);        \n"],[1,"        this.template = $(this.template); // For some reason, triggering a Get request on first time.\n        alert(\"Image Preview initialize after template \" + this.model.id);        \n"],[0,"        this.mod"]],"start1":5657,"start2":5657,"length1":32,"length2":217},{"diffs":[[0,"s);\n"],[-1,"        alert(\"Image Preview initialize end \" + this.model.id);"],[0,"\n   "]],"start1":5924,"start2":5924,"length1":71,"length2":8}]],"length":8032,"saved":false}
{"ts":1372981136565,"patch":[[{"diffs":[[0,"ge){"],[-1,"\n        console.log(\"renderImage\")\n        alert(\"119\");"],[0,"    "]],"start1":3500,"start2":3500,"length1":65,"length2":8},{"diffs":[[0,"e});"],[-1,"\n        alert(\"122\");  "],[0,"    "]],"start1":3582,"start2":3582,"length1":32,"length2":8}]],"length":7951,"saved":false}
{"ts":1372981197291,"patch":[[{"diffs":[[0,"xtend({\n"],[-1,"//"],[0,"    temp"]],"start1":5047,"start2":5047,"length1":18,"length2":16},{"diffs":[[0,"view-template\",\n"],[1,"//"],[0,"    template: '<"]],"start1":5080,"start2":5080,"length1":32,"length2":34}]],"length":7951,"saved":false}
{"ts":1372981301469,"patch":[[{"diffs":[[0,"() {"],[-1,"\n        alert(\"Image Preview initialize start \" + this.model.id);        \n        this.template = $(this.template); // For some reason, triggering a Get request on first time.\n        alert(\"Image Preview initialize after template \" + this.model.id);      "],[1,"      \n        this.template = $(this.template);"],[0,"  \n "]],"start1":5513,"start2":5513,"length1":265,"length2":56}]],"length":7742,"saved":false}
{"ts":1372981353939,"patch":[[{"diffs":[[0,") {\n"],[-1,"        console.log(\"In image collection previousImage\");\n"],[0,"    "]],"start1":744,"start2":744,"length1":66,"length2":8}]],"length":7684,"saved":false}
{"contributors":[],"silentsave":false,"ts":1372990604568,"patch":[[{"diffs":[[0,"l);\n};\n\n"],[1,"ImageGallery.mainRegion = function() {\n    this.el = $(\"#main\");\n    this.show = function(view) {\n        view.render();\n        this.el.html(view.el);\n    }\n};\n\n"],[0,"$(functi"]],"start1":6244,"start2":6244,"length1":16,"length2":178}]],"length":7846,"saved":false}
{"ts":1372990634485,"patch":[[{"diffs":[[0,"ion() {\n    "],[1,"ImageGallery.mainRegion = new ImageGallery();"],[0,"\n    var ima"]],"start1":6421,"start2":6421,"length1":24,"length2":69}]],"length":7891,"saved":false}
{"ts":1372990755051,"patch":[[{"diffs":[[0,"eView.render();\n"],[1,"//"],[0,"    $(\"#main\").h"]],"start1":6011,"start2":6011,"length1":32,"length2":34},{"diffs":[[0,"dImageView.el);\n"],[1,"    ImageGallery.mainRegion.show(addImageView);\n"],[0,"};\n\nImageGallery"]],"start1":6051,"start2":6051,"length1":32,"length2":80},{"diffs":[[0,"eView.render();\n"],[1,"//"],[0,"    $(\"#main\").h"]],"start1":6247,"start2":6247,"length1":32,"length2":34},{"diffs":[[0,"ew.el);\n"],[1,"    ImageGallery.mainRegion.show(imageView);\n"],[0,"};\n\nImag"]],"start1":6292,"start2":6292,"length1":16,"length2":61}]],"length":7988,"saved":false}
{"ts":1372990807661,"patch":[[{"diffs":[[0,"eGallery"],[1,".MainRegion"],[0,"();\n    "]],"start1":6564,"start2":6564,"length1":16,"length2":27}]],"length":7999,"saved":false}
{"ts":1372990822080,"patch":[[{"diffs":[[0,";\n\nImageGallery."],[-1,"m"],[1,"M"],[0,"ainRegion = func"]],"start1":6346,"start2":6346,"length1":33,"length2":33}]],"length":7999,"saved":false}
{"ts":1372991169845,"patch":[[{"diffs":[[0," || {};\n"],[1,"var ImageGallery = ImageGallery || new Backbone.Marionette.Application();"],[0,"\nImageGa"]],"start1":64,"start2":64,"length1":16,"length2":89}]],"length":8072,"saved":false}
{"ts":1372991176423,"patch":[[{"diffs":[[0,", _ */\n\n"],[1,"// "],[0,"var Imag"]],"start1":25,"start2":25,"length1":16,"length2":19}]],"length":8075,"saved":false}
{"ts":1372991578637,"patch":[[{"diffs":[[0,"ation();"],[1,"\n\nImageGallery.addRegions({\n    mainRegion: \"#main\"\n});"],[0,"\nImageGa"]],"start1":140,"start2":140,"length1":16,"length2":71},{"diffs":[[0,"d\");\n    }\n});\n\n"],[1,"// "],[0,"ImageGallery.ven"]],"start1":509,"start2":509,"length1":32,"length2":35},{"diffs":[[0,"(imageView);\n};\n"],[1,"/*"],[0,"\nImageGallery.Ma"]],"start1":6466,"start2":6466,"length1":32,"length2":34},{"diffs":[[0,"   }\n};\n"],[1,"*/"],[0,"\n$(funct"]],"start1":6638,"start2":6638,"length1":16,"length2":18},{"diffs":[[0,"unction() {\n"],[1,"//"],[0,"    ImageGal"]],"start1":6652,"start2":6652,"length1":24,"length2":26},{"diffs":[[0,"inRegion();\n"],[1,"    ImageGallery.start();\n"],[0,"    var imag"]],"start1":6715,"start2":6715,"length1":24,"length2":50}]],"length":8165,"saved":false}
{"ts":1372991771285,"patch":[[{"diffs":[[0,"}\n};\n*/\n"],[1,"ImageGallery.addInitializer(function(){\n// "],[0,"$(functi"]],"start1":6641,"start2":6641,"length1":16,"length2":59}]],"length":8208,"saved":false}
{"ts":1372991872834,"patch":[[{"diffs":[[0,"inRegion();\n"],[1,"//"],[0,"    ImageGal"]],"start1":6758,"start2":6758,"length1":24,"length2":26}]],"length":8210,"saved":false}
{"ts":1372992135598,"patch":[[{"diffs":[[0,"on:images});"],[1,"\n\n});\n\nImageGallery.bind(\"initialize:after\", function() {"],[0,"\n    Backbon"]],"start1":8163,"start2":8163,"length1":24,"length2":81},{"diffs":[[0,"start();"],[-1,"\n"],[1,"    "],[0,"\n});"]],"start1":8254,"start2":8254,"length1":13,"length2":16}]],"length":8270,"saved":false}
{"contributors":[],"silentsave":false,"ts":1372992240467,"patch":[[{"diffs":[[0,"();\n"],[-1,"    var imageData = [\n        {\n            id: 1,\n            url: \"/images/island.jpeg\",\n            name: \"Some island\",\n        },\n        {\n            id: 2,\n            url: \"/images/mountain.jpeg\",\n            name: \"A mountain\",\n            description: \"A mountin with a grassy hill and tree in front of it.\"\n        },\n        {\n            id: 3,\n            url: \"/images/tools.jpeg\",\n            name: \"A rusty wrench\",\n            description: \"A close up view of a rusty wrench with great color and texture.\"\n        }, \n        {\n            id: 4,\n            url: \"images/tree.jpeg\",\n            name: \"A purple flower\",\n            description: \"A purple flower with a water drop hanging off another plant.\"\n        }\n    ];"],[0,"\n   "]],"start1":6794,"start2":6794,"length1":752,"length2":8}]],"length":7526,"saved":false}
{"ts":1372992274008,"patch":[[{"diffs":[[0,"unction("],[1,"options"],[0,"){\n// $("]],"start1":6678,"start2":6678,"length1":16,"length2":23},{"diffs":[[0,"eCollection("],[1,"options."],[0,"imageData); "]],"start1":6849,"start2":6849,"length1":24,"length2":32}]],"length":7541,"saved":false}
{"ts":1372992400860,"patch":[[{"diffs":[[0,"ns){"],[-1,"\n// $(function() {\n//    ImageGallery.mainRegion = new ImageGallery.MainRegion();\n//    ImageGallery.start();\n\n"],[0,"    "]],"start1":6691,"start2":6691,"length1":119,"length2":8}]],"length":7430,"saved":false}
{"ts":1373038181220,"patch":[[{"diffs":[[0,"ion("],[-1,"options){    \n"],[1,"){ \n// ImageGallery.addInitializer(function(options){    \nvar images = new ImageGallery.ImageCollection();\n//"],[0,"    "]],"start1":6682,"start2":6682,"length1":22,"length2":117}]],"length":7525,"saved":false}
{"ts":1373038199743,"patch":[[{"diffs":[[0,"ages});\n"],[1,"    images.fetch();"],[0,"\n});\n\nIm"]],"start1":7423,"start2":7423,"length1":16,"length2":35}]],"length":7544,"saved":false}
{"ts":1373038228976,"patch":[[{"diffs":[[0,"on.extend({\n"],[1,"    url: \"/images\";\n"],[0,"    model: I"]],"start1":626,"start2":626,"length1":24,"length2":44}]],"length":7564,"saved":false}
{"ts":1373038233132,"patch":[[{"diffs":[[0,"/images\""],[-1,";"],[1,","],[0,"\n    mod"]],"start1":648,"start2":648,"length1":17,"length2":17}]],"length":7564,"saved":false}
{"ts":1373038308765,"patch":[[{"diffs":[[0,"erImage, this);\n"],[1,"        this.collection.bind(\"reset\", this.render, this);\n"],[0,"    },\n    \n    "]],"start1":3539,"start2":3539,"length1":32,"length2":90}]],"length":7622,"saved":false}
{"ts":1373038529996,"patch":[[{"diffs":[[0,"ction:images});\n"],[1,"    console.log(\"Made it\")\n"],[0,"    images.fetch"]],"start1":7493,"start2":7493,"length1":32,"length2":59}]],"length":7649,"saved":false}
{"ts":1373038531778,"patch":[[{"diffs":[[0,"ade it\")"],[1,";"],[0,"\n    ima"]],"start1":7527,"start2":7527,"length1":16,"length2":17}]],"length":7650,"saved":false}
{"ts":1373038590375,"patch":[[{"diffs":[[0,"y.Image();\n\n"],[1,"//"],[0,"    ImageGal"]],"start1":6981,"start2":6981,"length1":24,"length2":26},{"diffs":[[0,"});\n"],[-1,"    console.log(\"Made it\");\n"],[0,"    "]],"start1":7507,"start2":7507,"length1":36,"length2":8}]],"length":7624,"saved":false}
{"ts":1373038677521,"patch":[[{"diffs":[[0,"on.extend({\n"],[1,"    fetch: function(){\n        console.log(\"Made it to fetch\");\n    }\n"],[0,"    url: \"/i"]],"start1":626,"start2":626,"length1":24,"length2":94},{"diffs":[[0,"s){    \n"],[1,"    "],[0,"var imag"]],"start1":6884,"start2":6884,"length1":16,"length2":20}]],"length":7698,"saved":false}
{"ts":1373038686058,"patch":[[{"diffs":[[0,"tch\");\n    }"],[1,","],[0,"\n    url: \"/"]],"start1":695,"start2":695,"length1":24,"length2":25}]],"length":7699,"saved":false}
{"ts":1373038705728,"patch":[[{"diffs":[[0,"d({\n"],[-1,"    fetch: function(){\n        console.log(\"Made it to fetch\");\n    },\n"],[0,"    "]],"start1":634,"start2":634,"length1":79,"length2":8}]],"length":7628,"saved":false}
{"ts":1373039352425,"patch":[[{"diffs":[[0,"}\n};\n*/\n"],[1,"// "],[0,"ImageGal"]],"start1":6719,"start2":6719,"length1":16,"length2":19},{"diffs":[[0,"ion(){ \n"],[-1,"// "],[0,"ImageGal"]],"start1":6763,"start2":6763,"length1":19,"length2":16},{"diffs":[[0,"tions){    \n"],[1,"//"],[0,"    var imag"]],"start1":6810,"start2":6810,"length1":24,"length2":26},{"diffs":[[0,"llection();\n"],[-1,"//"],[0,"    var imag"]],"start1":6865,"start2":6865,"length1":26,"length2":24},{"diffs":[[0,"age();\n\n"],[-1,"//"],[0,"    Imag"]],"start1":6989,"start2":6989,"length1":18,"length2":16},{"diffs":[[0,"ction:images});\n"],[1,"//"],[0,"    images.fetch"]],"start1":7497,"start2":7497,"length1":32,"length2":34}]],"length":7628,"saved":false}
{"ts":1373039665082,"patch":[[{"diffs":[[0,"s.render, this);"],[1," // should this come out now?"],[0,"\n    },\n    \n   "]],"start1":3596,"start2":3596,"length1":32,"length2":61}]],"length":7657,"saved":false}
{"contributors":[],"silentsave":false,"ts":1373039752952,"patch":[[{"diffs":[[0,"on.extend({\n"],[1,"//"],[0,"    url: \"/i"]],"start1":626,"start2":626,"length1":24,"length2":26}]],"length":7659,"saved":false}
{"ts":1373039785090,"patch":[[{"diffs":[[0,"xtend({\n"],[-1,"//"],[0,"    url:"]],"start1":630,"start2":630,"length1":18,"length2":16}]],"length":7657,"saved":false}
{"ts":1373061579124,"patch":[[{"diffs":[[0,"el.extend({\n"],[1,"    urlRoot: \"/images\",\n"],[0,"    select: "]],"start1":237,"start2":237,"length1":24,"length2":48},{"diffs":[[0,"his."],[-1,"collection.add(this.model);   "],[1,"model.save(undefined, { // could specify model's own attributes.\n            success: this.saveSuccess,\n            error: this.saveError\n        });\n        this.collection.add(this.model);   \n\n    },\n    saveSuccess: function(image, response, xhrObjectfromXHRCall) {\n            \n    },\n    saveError:  function(image, response, xhrObjectfromXHRCall) {\n"],[0,"    "]],"start1":2629,"start2":2629,"length1":38,"length2":363}]],"length":8006,"saved":false}
{"ts":1373061598685,"patch":[[{"diffs":[[0,") {\n"],[-1,"            \n"],[0,"    "]],"start1":2898,"start2":2898,"length1":21,"length2":8},{"diffs":[[0,"Call) {\n        "],[1,"alert(\"Error\" + response);"],[0,"\n    },\n    rend"]],"start1":2967,"start2":2967,"length1":32,"length2":58}]],"length":8019,"saved":false}
{"ts":1373061634312,"patch":[[{"diffs":[[0,"\n   "],[-1,"     this.collection.add(this.model);   "],[0,"\n\n  "]],"start1":2782,"start2":2782,"length1":48,"length2":8},{"diffs":[[0,"mXHRCall) {\n"],[1,"        this.collection.add(this.model);\n"],[0,"    },\n    s"]],"start1":2850,"start2":2850,"length1":24,"length2":65}]],"length":8020,"saved":false}
{"ts":1373061675225,"patch":[[{"diffs":[[0,"ion.add("],[-1,"this.model"],[1,"image);\n        image.select("],[0,");\n    }"]],"start1":2882,"start2":2882,"length1":26,"length2":45}]],"length":8039,"saved":false}
{"ts":1373061727502,"patch":[[{"diffs":[[0,"age\"\n    },\n"],[1,"    initialize: function() {\n        _.bindAll(this,\"saveSuccess\", \"saveError\");\n    },\n"],[0,"    nameChan"]],"start1":1985,"start2":1985,"length1":24,"length2":112}]],"length":8127,"saved":false}
{"contributors":[],"silentsave":false,"ts":1373063076534,"patch":[[{"diffs":[[0," \"showImage\""],[1,",\n        \"images/:id/edit\": \"editImage\""],[0,"\n    },\n    "]],"start1":5318,"start2":5318,"length1":24,"length2":64},{"diffs":[[0,"ction);\n"],[1,"    },\n    editImage: function() {\n        \n"],[0,"    }\n})"]],"start1":5678,"start2":5678,"length1":16,"length2":60}]],"length":8211,"saved":false}
{"ts":1373063112457,"patch":[[{"diffs":[[0,"ion() {\n        "],[1,"var image = this.collection.get(id);\n        ImageGallery.editImage(image);"],[0,"\n    }\n});\n\nImag"]],"start1":5713,"start2":5713,"length1":32,"length2":107}]],"length":8286,"saved":false}
{"ts":1373063121048,"patch":[[{"diffs":[[0,"Image: function("],[1,"id"],[0,") {\n        var "]],"start1":5701,"start2":5701,"length1":32,"length2":34}]],"length":8288,"saved":false}
{"ts":1373063153779,"patch":[[{"diffs":[[0,"w);\n};\n\n"],[1,"ImageGallery.addImage = function(images) {\n    images.deselect();\n    var image = new ImageGallery.Image();\n    var addImageView = new ImageGallery.AddImageView({model: image, collection: images});\n    addImageView.render();\n//    $(\"#main\").html(addImageView.el);\n    ImageGallery.mainRegion.show(addImageView);\n};\n\n\n"],[0,"ImageGal"]],"start1":6983,"start2":6983,"length1":16,"length2":334}]],"length":8606,"saved":false}
{"ts":1373063160553,"patch":[[{"diffs":[[0,";\n\nImageGallery."],[-1,"add"],[1,"edit"],[0,"Image = function"]],"start1":6988,"start2":6988,"length1":35,"length2":36}]],"length":8607,"saved":false}
{"ts":1373063258581,"patch":[[{"diffs":[[0,"mage"],[-1,"s"],[0,") {\n    "],[-1,"images.deselect();\n    var image = new ImageGallery.Image();\n    var add"],[1,"var edit"],[0,"Imag"]],"start1":7026,"start2":7026,"length1":89,"length2":24},{"diffs":[[0,"ew ImageGallery."],[-1,"Add"],[1,"Edit"],[0,"ImageView({model"]],"start1":7059,"start2":7059,"length1":35,"length2":36},{"diffs":[[0,": images});\n    "],[-1,"add"],[1,"edit"],[0,"ImageView.render"]],"start1":7114,"start2":7114,"length1":35,"length2":36},{"diffs":[[0,"();\n"],[-1,"//    $(\"#main\").html(addImageView.el);\n"],[0,"    "]],"start1":7150,"start2":7150,"length1":48,"length2":8},{"diffs":[[0,"mainRegion.show("],[-1,"add"],[1,"edit"],[0,"ImageView);\n};\n\n"]],"start1":7171,"start2":7171,"length1":35,"length2":36}]],"length":8505,"saved":false}
{"ts":1373063277361,"patch":[[{"diffs":[[0,"l: image"],[-1,", collection: images"],[0,"});\n    "]],"start1":7094,"start2":7094,"length1":36,"length2":16}]],"length":8485,"saved":false}
